<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéÑ ≈öwiƒÖteczny Prezent</title>

<style>
body {
    margin: 0;
    height: 100vh;
    background: radial-gradient(circle at top, #1b5e47, #0b3d2e);
    font-family: 'Segoe UI', sans-serif;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* APP */
.app {
    width: 95%;
    max-width: 420px;
    height: 88vh;
    background: rgba(255,255,255,0.14);
    backdrop-filter: blur(10px);
    border-radius: 26px;
    box-shadow: 0 25px 60px rgba(0,0,0,0.45);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* HEADER */
.header {
    padding: 18px;
    text-align: center;
    color: white;
    font-size: 1.5em;
}

/* CHAT */
.chat {
    flex: 1;
    padding: 16px;
    overflow-y: auto;
}

.bubble {
    max-width: 78%;
    padding: 14px 16px;
    margin-bottom: 12px;
    border-radius: 20px;
    animation: bubbleIn 0.3s ease;
}

.user {
    margin-left: auto;
    background: linear-gradient(135deg, #e63946, #ff6b6b);
    color: white;
}

.bot {
    margin-right: auto;
    background: white;
    color: #333;
}

/* INPUT */
.input-area {
    padding: 14px;
    display: flex;
    gap: 10px;
    background: rgba(0,0,0,0.15);
}

input {
    flex: 1;
    padding: 12px;
    border-radius: 18px;
    border: none;
}

button {
    padding: 12px 16px;
    border-radius: 18px;
    border: none;
    background: linear-gradient(135deg, #2a9d8f, #6bcfc3);
    color: white;
    cursor: pointer;
}

/* SVG GIFT */
.gift-container {
    display: none;
    justify-content: center;
    margin: 10px 0;
}

svg {
    width: 160px;
    cursor: pointer;
}

.lid {
    transform-origin: center bottom;
    transition: transform 0.8s ease;
}

.open .lid {
    transform: rotate(-120deg);
}

/* MODAL */
.modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    display: none;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: white;
    border-radius: 20px;
    padding: 30px;
    text-align: center;
    max-width: 300px;
    animation: pop 0.4s ease;
}

.modal h2 {
    margin-top: 0;
}

.close-btn {
    margin-top: 20px;
    background: #e63946;
}

/* SPARKLES */
.sparkle {
    position: fixed;
    pointer-events: none;
    animation: sparkle 1s forwards;
}

/* ANIMATIONS */
@keyframes bubbleIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; }
}

@keyframes pop {
    from { transform: scale(0.6); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

@keyframes sparkle {
    from { opacity: 1; transform: translateY(0) scale(0.5); }
    to { opacity: 0; transform: translateY(-60px) scale(1.2); }
}
</style>
</head>

<body>

<div class="app">
    <div class="header">üéÑ ≈öwiƒÖteczny Prezent üéÅ</div>

    <div class="chat" id="chat"></div>

    <div class="gift-container" id="giftBox">
        <!-- SVG GIFT -->
        <svg id="giftSvg" viewBox="0 0 200 200">
            <rect x="30" y="80" width="140" height="90" rx="10" fill="#e63946"/>
            <rect x="90" y="80" width="20" height="90" fill="#fff"/>
            <rect x="30" y="115" width="140" height="20" fill="#fff"/>
            <rect class="lid" x="25" y="50" width="150" height="40" rx="10" fill="#ff6b6b"/>
        </svg>
    </div>

    <div class="input-area">
        <input id="input" placeholder="Wpisz sw√≥j kod..." />
        <button onclick="send()">Wy≈õlij</button>
    </div>
</div>

<!-- MODAL WINDOW -->
<div class="modal" id="modal">
    <div class="modal-content">
        <h2 id="modalName"></h2>
        <p id="modalMsg"></p>
        <button class="close-btn" onclick="closeModal()">Zamknij</button>
    </div>
</div>

<script>
const gifts = {
    "XMAS123": {
        name: "Emily",
        message: "Weso≈Çych ≈öwiƒÖt! üéÑ Niech ten prezent przyniesie Ci mn√≥stwo rado≈õci ‚ù§Ô∏è"
    },
    "SANTA777": {
        name: "Jake",
        message: "Ho ho ho! üéÖ Dziƒôkujƒô, ≈ºe jeste≈õ ‚Äì wszystkiego najlepszego! ‚ú®"
    }
};

const chat = document.getElementById("chat");
const giftBox = document.getElementById("giftBox");
const giftSvg = document.getElementById("giftSvg");
const modal = document.getElementById("modal");

addBot("‚ú® Wpisz sw√≥j tajny ≈õwiƒÖteczny kod üéÑ");

function addUser(text) {
    const d = document.createElement("div");
    d.className = "bubble user";
    d.textContent = text;
    chat.appendChild(d);
}

function addBot(text) {
    const d = document.createElement("div");
    d.className = "bubble bot";
    d.innerHTML = text;
    chat.appendChild(d);
}

function send() {
    const input = document.getElementById("input");
    const code = input.value.trim().toUpperCase();
    if (!code) return;

    addUser(code);
    input.value = "";

    if (!gifts[code]) {
        addBot("‚ùÑÔ∏è Ten kod jest nieprawid≈Çowy‚Ä¶");
        return;
    }

    addBot("üéÅ Kliknij prezent, aby go otworzyƒá!");
    giftBox.style.display = "flex";

    giftSvg.onclick = () => openGift(code);
}

function openGift(code) {
    giftSvg.classList.add("open");
    sparkles();

    setTimeout(() => {
        document.getElementById("modalName").textContent =
            "üéÑ Prezent dla: " + gifts[code].name;
        document.getElementById("modalMsg").textContent =
            gifts[code].message;
        modal.style.display = "flex";
    }, 900);
}

function closeModal() {
    modal.style.display = "none";
}

/* SPARKLES */
function sparkles() {
    for (let i = 0; i < 15; i++) {
        const s = document.createElement("div");
        s.className = "sparkle";
        s.textContent = "‚ú®";
        s.style.left = Math.random() * 100 + "vw";
        s.style.top = Math.random() * 100 + "vh";
        document.body.appendChild(s);
        setTimeout(() => s.remove(), 1000);
    }
}
</script>

</body>
</html>
